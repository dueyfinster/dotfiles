# vi:syntax=sshconfig
Host gerritmirror.lmera.ericsson.se
    Hostname gerritmirror.lmera.ericsson.se
    IdentityFile ~/.ssh/id_eric_egronei

Host gerritmirror-ha.lmera.ericsson.se
    Hostname gerritmirror-ha.lmera.ericsson.se
    IdentityFile ~/.ssh/id_eric_egronei

Host gerrit.ericsson.se
    Hostname gerrit.ericsson.se
    IdentityFile ~/.ssh/id_eric_egronei

Host github.com
    Hostname ssh.github.com
    User git
    PreferredAuthentications publickey
    IdentityFile ~/.ssh/id_git
    Port 443

Host bitbucket.org
    Hostname altssh.bitbucket.org
    User git
    PreferredAuthentications publickey
    IdentityFile ~/.ssh/id_git
    Port 443

Host gitlab.com
    Hostname altssh.gitlab.com
    User git
    PreferredAuthentications publickey
    IdentityFile ~/.ssh/id_git
    Port 443

Host home
    ControlMaster auto
    ControlPath ~/.ssh/ctrl-%C
    ControlPersist yes
    Hostname ssh.grogan.org
    ServerAliveInterval 120
    ForwardX11 yes
    IdentityFile ~/.ssh/id_personal
    User ngrogan

Host *
    ServerAliveInterval 300
    IdentityFile ~/.ssh/id_personal
    ServerAliveCountMax 2

Host *+*
    StrictHostKeyChecking no
    ProxyCommand ssh $(echo %h | sed 's/+[^+]*$//;s/\([^+%%]*\)%%\([^+]*\)$/\2 -l \1/;s/:/ -p /') nc -w1 $(echo %h | sed 's/^.*+//;/:/!s/$/ %p/;s/:/ /')
